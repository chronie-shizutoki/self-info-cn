class LanguageSelector{constructor(){this.languages=[{code:"zh-CN",name:"Multilingual functionality is currently unavailable in this region",localName:"当前区域多语言功能暂不可用",link:"/"}];this.init()}init(){this.createLanguageButton();this.createLanguagePopup();this.setupEventListeners()}createLanguageButton(){const button=document.createElement("button");button.id="language-button";button.className="language-button";button.innerHTML="🌐 文/A";button.style.position="fixed";button.style.top="20px";button.style.right="20px";button.style.padding="10px 20px";button.style.borderRadius="20px";button.style.background="rgba(255, 255, 255, 0.2)";button.style.backdropFilter="blur(10px)";button.style.border="1px solid rgba(255, 255, 255, 0.3)";button.style.color="#ffffff";button.style.fontFamily="KleeOne-Regular, system-ui, sans-serif";button.style.cursor="pointer";button.style.zIndex="1000";button.style.transition="all 0.3s ease";button.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)";button.style.touchAction="manipulation";button.style.webkitTapHighlightColor="transparent";const style=document.createElement("style");style.textContent=`@media (max-width: 600px) {#language-button {padding: 8px 16px !important;font-size: 14px !important;top: 15px !important;right: 15px !important;}}`;document.head.appendChild(style);document.body.appendChild(button);this.button=button}createLanguagePopup(){const popup=document.createElement("div");popup.id="language-popup";popup.className="language-popup hidden";popup.style.position="fixed";popup.style.top="70px";popup.style.right="20px";popup.style.width="200px";popup.style.maxWidth="90vw";popup.style.maxHeight="80vh";popup.style.padding="20px";popup.style.borderRadius="24px";popup.style.background="rgba(255, 255, 255, 0.15)";popup.style.backdropFilter="blur(25px) saturate(180%)";popup.style.border="1px solid rgba(255, 255, 255, 0.2)";popup.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.2)";popup.style.zIndex="1001";popup.style.opacity="0";popup.style.transition="opacity 0.3s ease, transform 0.3s ease";popup.style.transform="translateY(-10px)";popup.style.display="flex";popup.style.flexDirection="column";popup.style.gap="15px";popup.style.overflowY="auto";popup.style.scrollbarWidth="thin";popup.style.scrollbarColor="rgba(255, 255, 255, 0.3) transparent";this.languages.forEach(lang=>{const languageItem=document.createElement("a");languageItem.href=lang.link;languageItem.target="_blank";languageItem.className="language-item";languageItem.style.display="block";languageItem.style.padding="12px 15px";languageItem.style.borderRadius="12px";languageItem.style.background="rgba(255, 255, 255, 0.1)";languageItem.style.color="#ffffff";languageItem.style.textDecoration="none";languageItem.style.transition="all 0.3s ease";languageItem.style.whiteSpace="normal";languageItem.style.overflow="visible";languageItem.addEventListener("mouseenter",()=>{languageItem.style.background="rgba(255, 255, 255, 0.2)";languageItem.style.transform="translateX(5px)"});languageItem.addEventListener("mouseleave",()=>{languageItem.style.background="rgba(255, 255, 255, 0.1)";languageItem.style.transform="translateX(0)"});languageItem.addEventListener("touchstart",()=>{languageItem.style.background="rgba(255, 255, 255, 0.2)";languageItem.style.transform="translateX(5px)"});languageItem.addEventListener("touchend",()=>{languageItem.style.background="rgba(255, 255, 255, 0.1)";languageItem.style.transform="translateX(0)"});languageItem.innerHTML=`<div style="font-weight: bold; margin-bottom: 4px; font-size: 16px;">${lang.name}</div><div style="font-size: 14px; opacity: 0.8;">${lang.localName}</div>`;popup.appendChild(languageItem)});document.body.appendChild(popup);this.popup=popup}setupEventListeners(){this.button.addEventListener("click",e=>{e.stopPropagation();this.togglePopup()});document.addEventListener("click",e=>{if(!this.popup.contains(e.target)&&e.target!==this.button)this.hidePopup()});document.addEventListener("keydown",e=>{if(e.key==="Escape")this.hidePopup()});this.popup.addEventListener("transitionend",()=>{if(this.popup.classList.contains("hidden"))this.popup.style.display="none"});this.button.setAttribute("aria-haspopup","true");this.button.setAttribute("aria-expanded","false")}togglePopup(){if(this.popup.classList.contains("hidden"))this.showPopup();else this.hidePopup()}showPopup(){this.popup.classList.remove("hidden");this.popup.style.display="flex";void this.popup.offsetWidth;this.popup.style.opacity="1";this.popup.style.transform="translateY(0)";this.button.setAttribute("aria-expanded","true");document.body.style.overflow="hidden"}hidePopup(){this.popup.style.opacity="0";this.popup.style.transform="translateY(-10px)";this.popup.classList.add("hidden");this.button.setAttribute("aria-expanded","false");document.body.style.overflow=""}}document.addEventListener("DOMContentLoaded",()=>{new LanguageSelector()});