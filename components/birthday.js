function createBubbles(){const container=document.getElementById('countdown'),colors=['#ff9aa2','#ffb7b2','#ffdac1','#e2f0cb','#b5ead7','#c7ceea'];for(let i=0;i<8;i++){const bubble=document.createElement('div');bubble.classList.add('bubble');const size=Math.random()*40+20,posX=Math.random()*100,posY=Math.random()*100;bubble.style.width=`${size}px`;bubble.style.height=`${size}px`;bubble.style.left=`${posX}%`;bubble.style.top=`${posY}%`;bubble.style.background=colors[Math.floor(Math.random()*colors.length)];bubble.style.opacity=Math.random()*0.4+0.1;bubble.style.animationDuration=`${Math.random()*10+5}s`;bubble.style.animationDelay=`${Math.random()*5}s`;bubble.style.zIndex=1;bubble.style.position='absolute';container.appendChild(bubble);}}function calculateCountdown(){const today=new Date();today.setHours(0,0,0,0);const currentYear=today.getFullYear();let solarBirthday=new Date(currentYear,7,23);solarBirthday.setHours(0,0,0,0);if(today>solarBirthday)solarBirthday.setFullYear(currentYear+1);const timeDiff=solarBirthday.getTime()-today.getTime();return Math.ceil(timeDiff/(1000*60*60*24));}function updateCountdown(){const days=calculateCountdown(),countdown=document.getElementById('countdown');if(countdown){if(days===0){countdown.innerHTML=`<span class="cake-icon">🎂</span><span class="birthday-today">今天、就是生日哦！(＊´∀｀*)ﾉ</span>`;countdown.style.display='flex';countdown.classList.add('birthday-today');}else if(days>90){countdown.style.display='none';bubble.style.visibility='hidden';}else{countdown.innerHTML=`<span class="cake-icon">🎂</span><span>离生日</span><span>还有</span><span class="days-count" id="days">${days}</span><span>天～♡</span>`;countdown.style.display='flex';countdown.classList.remove('birthday-today');}}}updateCountdown();setInterval(updateCountdown,1000*60*60);createBubbles();
